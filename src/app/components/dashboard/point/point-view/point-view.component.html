<div class="main">
  <mat-progress-bar *ngIf="loading" mode="indeterminate"></mat-progress-bar>
  <mat-card>
    <mat-card-header>
      <mat-card-title> {{ title }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="example-spacer"></div>
      <div>
        <button
          mat-mini-fab
          color="primary"
          class="button-action"
          matTooltip="Agregar {{ title }}"
        >
          <span class="material-symbols-outlined"> add </span>
        </button>
        <button
          mat-mini-fab
          color="primary"
          class="button-action"
          matTooltip="Filtrar Columna"
        >
          <span class="material-symbols-outlined"> visibility </span>
        </button>
        <button
          mat-mini-fab
          color="primary"
          class="button-action"
          matTooltip="Eliminar {{ title }}"
        >
          <span class="material-symbols-outlined"> delete </span>
        </button>
        <button
          mat-mini-fab
          color="primary"
          class="button-action"
          matTooltip="Reportes"
        >
          <span class="material-symbols-outlined"> more_vert </span>
        </button>
      </div>
    </mat-card-content>

    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="formAddOrEdit()">
        <mat-dialog-content>
          <div class="row">
            <div class="colum">
              <!-- Total puntos -->
              <mat-form-field appearance="fill">
                <mat-label>Total Puntos</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="total_points"
                  [value]="pointsCustomer().total_points"
                  readonly
                />
                <mat-error
                  *ngIf="form.get('total_points')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Total puntos -->

              <!-- Primer nombre -->
              <mat-form-field appearance="fill">
                <mat-label>Primer Nombre</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="firstname"
                  [value]="pointsCustomer().firstname"
                  readonly
                />
                <mat-error *ngIf="form.get('firstname')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Primer nombre -->
              <!-- Segundo nombre -->
              <mat-form-field appearance="fill">
                <mat-label>Segundo Nombre</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="second_name"
                  [value]="pointsCustomer().second_name"
                  readonly
                />
                <mat-error *ngIf="form.get('second_name')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Segundo nombre -->
              <!-- Apellido paterno -->
              <mat-form-field appearance="fill">
                <mat-label>Apellido Paterno</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="lastname"
                  [value]="pointsCustomer().lastname"
                  readonly
                />
                <mat-error *ngIf="form.get('lastname')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Apellido paterno -->
              <!-- Apellido materno -->
              <mat-form-field appearance="fill">
                <mat-label>Apellido Materno</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="lastname_mother"
                  [value]="pointsCustomer().lastname_mother"
                  readonly
                />
                <mat-error
                  *ngIf="form.get('lastname_mother')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Apellido Materno -->
              <!-- Tipo documento -->
              <mat-form-field appearance="fill">
                <mat-label>Tipo de Documento</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="type_document"
                  [value]="pointsCustomer().type_document"
                  readonly
                />
                <mat-error
                  *ngIf="form.get('type_document')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Tipo documento -->
              <!-- Numero documento -->
              <mat-form-field appearance="fill">
                <mat-label>Numero de Documento</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="document"
                  [value]="pointsCustomer().document"
                  readonly
                />
                <mat-error *ngIf="form.get('document')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Numero documento -->
              <!-- Fecha nacimiento -->
              <mat-form-field appearance="fill">
                <mat-label>Fecha de Nacimiento</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="birthdate"
                  [value]="pointsCustomer().birthdate | date : 'dd/MM/yyyy'"
                  readonly
                />
                <mat-error *ngIf="form.get('birthdate')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Fecha nacimiento -->
              <!-- Correo electronico-->
              <mat-form-field appearance="fill">
                <mat-label>Correo electrónico</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="email"
                  [value]="pointsCustomer().email"
                  readonly
                />
                <mat-error *ngIf="form.get('email')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Correo electronico-->
              <!-- Telefono -->
              <mat-form-field appearance="fill">
                <mat-label>Celular</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="phone"
                  [value]="pointsCustomer().phone"
                  readonly
                />
                <mat-error *ngIf="form.get('phone')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Telefono -->
              <!-- Ubigeo -->
              <mat-form-field appearance="fill">
                <mat-label>Ubigeo</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="ubigeo"
                  [value]="pointsCustomer().ubigeo"
                  readonly
                />
                <mat-error *ngIf="form.get('ubigeo')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Ubigeo -->
              <!-- Direccion -->
              <mat-form-field appearance="fill">
                <mat-label>Dirección</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="address"
                  [value]="pointsCustomer().address"
                  readonly
                />
                <mat-error *ngIf="form.get('address')?.hasError('required')"
                  >Este campo es requerido.</mat-error
                >
              </mat-form-field>
              <!-- / Direccion -->
            </div>
          </div>
        </mat-dialog-content>
        <mat-dialog-actions align="end">
          <button
            type="button"
            color="accent"
            mat-raised-button
            (click)="formClose()"
            [disabled]="loading"
          >
            Cancelar
          </button>
          <button
            type="submit"
            color="primary"
            mat-raised-button
            [disabled]="loading"
            [disabled]="!form.valid"
          >
            Guardar
          </button>
        </mat-dialog-actions>
      </form>
    </mat-card-content>
  </mat-card>
</div>
